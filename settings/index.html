<!doctype html>
<html>
    <head>
		<style>
			input {
				font-size:16px;
				width: 200px;
				border: 1px dotted #000;
			}
			label {
				width: 150px;
			}
		</style>
		
		<script type="text/javascript" src="/homey.js" data-origin="settings"></script>
		
    </head>
    <body>

        <h1>Synology Surveillance Station</h1>
        <p data-i18n="settings.intro">On this page you can manage settings that apply to all your Synology Surveillance Station devices.</p>

        <fieldset>
	        <legend data-i18n="settings.polling">Polling</legend>
        
			<input type="checkbox" id="enablepolling"><label data-i18n="settings.enablepolling"></label>
        
        </fieldset>
        <div id="testresult"></div>

        <button id="savebutton" onclick="save()" data-i18n="pair.start.saveSettings">Save changes</button>

        <script type="text/javascript">
        function onHomeyReady(Homey){
	        Homey.get('enablepolling', function(err, enablepolling){
		       if( err ) return console.error('Could not get enablepolling', err);
		       document.getElementById('enablepolling').checked = enablepolling; 
		    });
		    
            Homey.ready();
        }

        function save() {
	        
			document.getElementById('testresult').innerHTML = "Saving settings...";

            Homey.set('enablepolling', document.getElementById('enablepolling').checked);
            
            console.log ("saved the settings!");
            
            document.getElementById('testresult').innerHTML = "Saved!";
                
        }
        
        </script>

    </body>
</html>